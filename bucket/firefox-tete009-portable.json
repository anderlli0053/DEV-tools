{
    "version": "104.0.2",
    "description": "tete009 private builds (Win32) of Mozilla Firefox.",
    "homepage": "http://www1.plala.or.jp/tete009/en-US/software.html#FFDL#FIREFOX",
    "license": {
        "identifier": "MPL-2.0"
    },
    "architecture": {
        "64bit": {
            "url": "https://pan.jiemi.workers.dev/?file=/tete009/firefox-104.0.2-2022090215.en-US.win32-tete009-x64-pgo.7z",
            "hash": "07a4ace5e141fc775a46a6a489ffa30fc5f46b6f501443cf51d391890d4aacff",
            "extract_dir": "firefox-104.0.2-2022090215.en-US.win32-tete009-x64-pgo"
        },
        "32bit": {
            "url": "https://pan.jiemi.workers.dev/?file=/tete009/firefox-104.0.2-2022090215.en-US.win32-tete009-sse2-pgo.7z",
            "hash": "1bb8e0fccc711755985edb712c2c5c546bda65cfa9cefb420791786ee578cea4",
            "extract_dir": "firefox-104.0.2-2022090215.en-US.win32-tete009-sse2-pgo"
        },
    },
    "pre_install": [
        "Get-ChildItem \"$dir\" -Exclude *install.json, *manifest.json | ForEach-Object { Move-Item $_.FullName \"$dir\\App\\\" -Recurse -Force -ErrorAction SilentlyContinue }",
        "if (!(Test-Path \"$persist_dir\\App\\tmemutil.ini\")) {",
        "    Copy-Item \"$bucketsdir\\tian\\scripts\\tete009\\tmemutil.ini\" \"$dir\\App\\tmemutil.ini\" -ErrorAction 'SilentlyContinue' -Force | Out-Null",
        "}",
        "# Language Pack",
        "if ($architecture -eq '64bit') { $txt = \"http://releases.mozilla.org/pub/mozilla.org/firefox/releases/$version/win64/xpi/\" }",
        "elseif ($architecture -eq '32bit') { $txt = \"http://releases.mozilla.org/pub/mozilla.org/firefox/releases/$version/win32/xpi/\" }",
        "info \"- Language packs: $txt\""
    ],
    "bin": "App\\firefox.exe",
    "shortcuts": [
        [
            "App\\firefox.exe",
            "Firefox tete009"
        ]
    ],
    "persist": [
        "Profiles",
        "App\\tmemutil.ini"
    ],
    "checkver": {
        "url": "https://github.com/Ryanjiena/MetaVersion/raw/main/oneindex.txt",
        "regex": "firefox-([\\d.]+)-(?<date>\\d+).en-US.win32-tete009-x64-pgo\\.7z"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://pan.jiemi.workers.dev/?file=/tete009/firefox-$version-$matchDate.en-US.win32-tete009-x64-pgo.7z",
                "hash": {
                    "url": "http://www1.plala.or.jp/tete009/en-US/software.html#FFDL",
                    "mode": "extract",
                    "regex": "(?sm)x64.*?SHA256.*?$sha256"
                },
                "extract_dir": "firefox-$version-$matchDate.en-US.win32-tete009-x64-pgo"
            },
            "32bit": {
                "url": "https://pan.jiemi.workers.dev/?file=/tete009/firefox-$version-$matchDate.en-US.win32-tete009-sse2-pgo.7z",
                "hash": {
                    "url": "http://www1.plala.or.jp/tete009/en-US/software.html#FFDL",
                    "mode": "extract",
                    "regex": "(?sm)SSE2.*?SHA256.*?$sha256"
                },
                "extract_dir": "firefox-$version-$matchDate.en-US.win32-tete009-sse2-pgo"
            }
        }
    }
}
