{
 "architecture": {
  "32bit": {
   "hash": "31c58730acf5efea303c90322d8a09340c44204682e119c783038bb32833d2f8",
   "url": "https://download.xnview.com/XnViewMP-win.zip"
  },
  "64bit": {
   "hash": "00b634e59c6201f456022a055d0cf3ab2029a4b25b9aa08031548bb17f39d964",
   "url": "https://download.xnview.com/XnViewMP-win-x64.zip"
  }
 },
 "autoupdate": {
  "architecture": {
   "32bit": {
    "url": "https://download.xnview.com/XnViewMP-win.zip"
   },
   "64bit": {
    "url": "https://download.xnview.com/XnViewMP-win-x64.zip"
   }
  }
 },
 "bin": "xnviewmp.exe",
 "checkver": "Download <strong>XnView MP ([\\d.]+)",
 "description": "Photo viewer, image resizer & batch converter",
 "extract_dir": "XnViewMP",
 "homepage": "https://www.xnview.com/en/xnviewmp/",
 "license": "Freeware|Proprietary",
 "persist": "xnview.ini",
 "pre_install": [
  "# --- If xnview.ini exists as a folder, then remove it ---",
  "if (Test-Path \"$persist_dir\\xnview.ini\" -PathType Container) {",
  "    Remove-Item \"$persist_dir\\xnview.ini\" -Force -Recurse",
  "}",
  "if (!(Test-Path \"$persist_dir\\xnview.ini\")) {",
  "   New-Item \"$dir\\xnview.ini\" -ItemType File | Out-Null",
  "}"
 ],
 "shortcuts": [
  [
   "xnviewmp.exe",
   "XnViewMP"
  ]
 ],
 "uninstaller": {
  "script": [
   "# Manually copy because Xnview overwrites hardlink with a regular file, which breaks persist",
   "if ((Test-Path \"$dir\\xnview.ini\") -and !(Get-Item \"$dir\\xnview.ini\").LinkType -and (Test-Path $persist_dir)) { Copy-Item \"$dir\\xnview.ini\" $persist_dir -Force }"
  ]
 },
 "version": "1.00"
}