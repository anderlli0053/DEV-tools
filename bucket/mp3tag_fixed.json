{
 "autoupdate": {
  "url": "https://download.mp3tag.de/mp3tagv$cleanVersionsetup.exe#/dl.7z"
 },
 "bin": "mp3tag.exe",
 "checkver": "Mp3tag\\s+v([\\w.]+)",
 "description": "Powerful and easy-to-use tool to edit metadata of audio files.",
 "hash": "520e74932fd8e59ca5febacd12ef9f6719cdfb955aa1341ff253c5e792167293",
 "homepage": "https://www.mp3tag.de",
 "license": {
  "identifier": "Freeware",
  "url": "http://help.mp3tag.de/misc_license.html"
 },
 "persist": [
  "data\\panels",
  "data\\columns",
  "data\\columns.ini",
  "data\\usrfields.ini",
  "mp3tag.cfg"
 ],
 "pre_install": [
  "if (!(is_admin)) {error \"$app requires admin rights to $cmd\"; break}",
  "'mp3tag.cfg', 'data\\columns.ini', 'data\\usrfields.ini' | ForEach-Object {",
  "   if (!(Test-Path \"$persist_dir\\$_\")) { New-Item \"$dir\\$_\" | Out-Null }",
  "}",
  "Remove-Item \"$dir\\`$*\", \"$dir\\Mp3tagUninst*\" -Recurse",
  "if ($architecture -eq '32bit') { Start-Process 'regsvr32' -Wait -Verb 'RunAs' -ArgumentList @(\"$dir\\Mp3tagShell32.dll\", '/s') }",
  "elseif ($architecture -eq '64bit') { Start-Process 'regsvr32' -Wait -Verb 'RunAs' -ArgumentList @(\"$dir\\Mp3tagShell.dll\", '/s') }",
  "Copy-Item \"$persist_dir\\export\" \"$dir\\export\" -Recurse -ErrorAction 'SilentlyContinue'"
 ],
 "pre_uninstall": [
  "if (!(is_admin)) {error \"$app requires admin rights to $cmd\"; break}",
  "Copy-Item \"$dir\\export\" \"$persist_dir\\export\" -Recurse -ErrorAction 'SilentlyContinue'",
  "if ($architecture -eq '32bit') { Start-Process 'regsvr32' -Wait -Verb 'RunAs' -ArgumentList @('/u', \"$dir\\Mp3tagShell32.dll\", '/s') }",
  "elseif ($architecture -eq '64bit') { Start-Process 'regsvr32' -Wait -Verb 'RunAs' -ArgumentList @('/u', \"$dir\\Mp3tagShell.dll\", '/s') }",
  "Stop-Process -Name 'explorer' -Force; Start-Sleep -Seconds 2"
 ],
 "shortcuts": [
  [
   "mp3tag.exe",
   "Mp3tag"
  ]
 ],
 "url": "https://download.mp3tag.de/mp3tagv318setup.exe#/dl.7z",
 "version": "3.18"
}